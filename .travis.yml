jobs:
  include:
    # - stage: "Tests"
    #   name: 'rspec Tests'
    #   language: ruby
    #   rvm:
    #     - 2.3
    #   cache: bundler
    #   before_install:
    #     - gem update --system
    #     - gem install bundler
    #   script:
    #     - bundle exec rake
    #     - bundle exec rake rubocop
    # - name: "Integration Tests"
    #   language: node_js
    #   node_js: node
    #   cache: yarn
    #   before_install:
    #     - rvm use 2.3 --install --binary --fuzzy
    #     - ruby --version
    #     - gem update --system
    #     - gem install bundler
    #     - bundle install --jobs=3 --retry=3 --deployment
    #   script:
    #     - yarn test
    #     - yarn lint


    # Define the release stage that runs semantic-release
    # - stage: "Release"
    #   # node_js: lts/*
    #   # Advanced: optionally overwrite your default `script` step to skip the tests
    #   script: skip
    #   before_install:
    #       - gem update --system
    #       - gem install bundler
    #   deploy:
    #     provider: script
    #     skip_cleanup: true
    #     on:
    #       all_branches: true
    #     script: nvm install lts/*
    #       # - npx semantic-release -d --debug

    - stage: "Release"
      language: node_js
      node_js: lts/*
      # Advanced: optionally overwrite your default `script` step to skip the tests
      script: npx semantic-release -d --debug -b rc-semantic-release
      # before_install:
      #     - gem update --system
      #     - gem install bundler
